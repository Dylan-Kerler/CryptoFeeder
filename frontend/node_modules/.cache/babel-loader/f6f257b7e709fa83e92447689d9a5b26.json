{"ast":null,"code":"var _jsxFileName = \"/home/levi/Desktop/WebProjects/CryptoFeeder/frontend/src/ReactComponents/DataDisplay/ParsedText.js\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { PriceContext, SettingsContext, TimeContext } from \"./Contexts\";\n\nconst ParsedText = ({\n  anomaly,\n  dataType\n}) => {\n  let element = \"\";\n  const settings = useContext(SettingsContext);\n  const price = useContext(PriceContext);\n  const timePassed = useContext(TimeContext) - anomaly.data.timestamp * 1000;\n  const movingTimeString = timePassed > 120 * 1000 ? timePassed > 60 * 1000 * 60 ? \"\" : \"(\" + Math.floor(timePassed / 1000 / 60) + \" minutes ago)\" : \"(\" + Math.floor(timePassed / 1000) + \" seconds ago)\";\n  const anomalyTimeRange = anomaly.data.timestamp * 1000 - anomaly.data.limitTimestamp;\n  const anomalyTimeRangeString = anomalyTimeRange > 120 * 1000 ? Math.abs(Math.floor(anomalyTimeRange / 1000 / 60)) + \" minutes \" : Math.abs(Math.floor(anomalyTimeRange / 1000)) + \" seconds \";\n\n  if (anomaly.coin === settings.coin || settings.coin === \"all\") {\n    switch (anomaly.type) {\n      case \"volumeAnomaly\":\n        if (anomaly.data.total * price >= settings.minVolume) {\n          element = React.createElement(\"p\", {\n            className: `${dataType}_text`,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 20\n            },\n            __self: this\n          }, \"$\", Intl.NumberFormat().format((anomaly.data.total * price).toFixed(2)) + \" \", \" worth of \", anomaly.coin + \" \", \"was \", anomaly.data.isBuyVolume ? \"bought \" : \"sold \", \" on \", anomaly.exchange + \" \", \"in the past \", anomalyTimeRangeString, \" -\", \" \" + ((anomaly.data.total / anomaly.data.hourlyMa200 - 1) * 100).toFixed(2) + \"% \", \" higher than the 200 hourly average.\", movingTimeString);\n        }\n\n        break;\n\n      case \"anomalyPriceRange\":\n        if (anomaly.data.change * 100 >= settings.minPriceIncrease) {\n          element = React.createElement(\"p\", {\n            className: `${dataType}_text`,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 31\n            },\n            __self: this\n          }, anomaly.coin, \" just \", anomaly.data.positive ? \"pumped \" : \"dumped \", (anomaly.data.change * 100).toFixed(2), \"% in the past \", anomalyTimeRangeString, \" -\", \" \" + ((anomaly.data.range / anomaly.data.maRange - 1) * 100).toFixed(2) + \"%\", \" higher than the 200 hourly average\", \" \" + movingTimeString);\n        }\n\n        break;\n\n      case \"OrderBookIncrease\":\n        if (anomaly.data.total >= settings.minOrderSize) {\n          element = React.createElement(\"p\", {\n            className: `${dataType}_text`,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 43\n            },\n            __self: this\n          }, \"$\", Intl.NumberFormat().format((anomaly.data.total * price).toFixed(0)), \" \", anomaly.data.isBuySide ? \"buy \" : \"sell\", \" wall for \", anomaly.coin + \" \", \"appeared \", movingTimeString, \" on \", anomaly.exchange, \" - A \", ((anomaly.data.total / anomaly.data.maTotal - 1) * 100).toFixed(2), \"% increase from the 200 hourly average\");\n        }\n\n        break;\n    }\n  }\n\n  const enterClassName = anomaly.data.isBuySide || anomaly.data.isBuyVolume || anomaly.data.positive ? \"enter_buy_data\" : \"enter_sell_data\";\n  return (() => element ? React.createElement(\"div\", {\n    id: `${dataType}_data_1`,\n    className: `data_box ${dataType}_box ${enterClassName}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, element, React.createElement(\"p\", {\n    className: \"data_timestamp\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, new Date(anomaly.data.timestamp * 1000).toGMTString())) : React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }))();\n};\n\nexport default ParsedText;","map":{"version":3,"sources":["/home/levi/Desktop/WebProjects/CryptoFeeder/frontend/src/ReactComponents/DataDisplay/ParsedText.js"],"names":["React","useContext","useEffect","useState","PriceContext","SettingsContext","TimeContext","ParsedText","anomaly","dataType","element","settings","price","timePassed","data","timestamp","movingTimeString","Math","floor","anomalyTimeRange","limitTimestamp","anomalyTimeRangeString","abs","coin","type","total","minVolume","Intl","NumberFormat","format","toFixed","isBuyVolume","exchange","hourlyMa200","change","minPriceIncrease","positive","range","maRange","minOrderSize","isBuySide","maTotal","enterClassName","Date","toGMTString"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState} from \"react\";\nimport {PriceContext, SettingsContext, TimeContext} from \"./Contexts\";\n\nconst ParsedText = ({anomaly, dataType}) => {\n    let element = \"\";\n    const settings = useContext(SettingsContext);\n    const price = useContext(PriceContext);\n    const timePassed = useContext(TimeContext) - anomaly.data.timestamp * 1000;\n    const movingTimeString = timePassed > 120 * 1000 ? timePassed > 60 * 1000 * 60 ? \"\"\n        : \"(\" + Math.floor(timePassed / 1000 / 60) + \" minutes ago)\"\n        : \"(\" + Math.floor(timePassed / 1000) + \" seconds ago)\";\n\n    const anomalyTimeRange = anomaly.data.timestamp * 1000 - anomaly.data.limitTimestamp;\n    const anomalyTimeRangeString = anomalyTimeRange > 120 * 1000 ? Math.abs(Math.floor(anomalyTimeRange / 1000 / 60)) + \" minutes \" : Math.abs(Math.floor(anomalyTimeRange / 1000)) + \" seconds \";\n\n    if (anomaly.coin === settings.coin || settings.coin === \"all\") {\n        switch (anomaly.type) {\n            case \"volumeAnomaly\":\n                if (anomaly.data.total * price >= settings.minVolume) {\n                    element = <p className={`${dataType}_text`}>\n                        ${Intl.NumberFormat().format((anomaly.data.total * price).toFixed(2)) + \" \"} worth of {anomaly.coin + \" \"}\n                        was {anomaly.data.isBuyVolume ? \"bought \" : \"sold \"} on {anomaly.exchange + \" \"}\n                        in the past {anomalyTimeRangeString} -\n                        {\" \" + ((anomaly.data.total / anomaly.data.hourlyMa200 - 1) * 100).toFixed(2) + \"% \"} higher than the 200 hourly average.\n                        {movingTimeString}\n                    </p>;\n                }\n                break;\n            case \"anomalyPriceRange\":\n                if (anomaly.data.change * 100 >= settings.minPriceIncrease) {\n                    element = <p className={`${dataType}_text`}>\n                        {anomaly.coin} just {anomaly.data.positive ? \"pumped \" : \"dumped \"}\n                        {(anomaly.data.change * 100).toFixed(2)}%\n                        in the past {anomalyTimeRangeString} -\n                        {\" \" + ((anomaly.data.range / anomaly.data.maRange - 1) * 100).toFixed(2) + \"%\"} higher than the 200 hourly average\n                        {\" \" + movingTimeString}\n                    </p>\n                }\n                break;\n\n            case \"OrderBookIncrease\":\n                if (anomaly.data.total >= settings.minOrderSize) {\n                    element = <p className={`${dataType}_text`}>\n                        ${Intl.NumberFormat().format((anomaly.data.total * price).toFixed(0))} {anomaly.data.isBuySide ? \"buy \" : \"sell\"} wall for {anomaly.coin + \" \"}\n                        appeared {movingTimeString} on {anomaly.exchange} - A {((anomaly.data.total / anomaly.data.maTotal - 1) * 100).toFixed(2)}% increase\n                        from the 200 hourly average\n                    </p>\n                }\n                break;\n        }\n    }\n\n    const enterClassName = anomaly.data.isBuySide || anomaly.data.isBuyVolume || anomaly.data.positive ? \"enter_buy_data\" : \"enter_sell_data\";\n\n    return (\n        (() =>\n                element ?\n                    <div id={`${dataType}_data_1`} className={`data_box ${dataType}_box ${enterClassName}`}>\n                        {element}\n                        <p className=\"data_timestamp\">{new Date(anomaly.data.timestamp * 1000).toGMTString()}</p>\n                    </div>\n                    :\n                    <React.Fragment/>\n        )()\n    );\n};\n\nexport default ParsedText;"]},"metadata":{},"sourceType":"module"}
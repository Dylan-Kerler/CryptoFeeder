{"ast":null,"code":"import _slicedToArray from \"/home/levi/Desktop/WebProjects/CryptoFeeder/frontend/dev/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/levi/Desktop/WebProjects/CryptoFeeder/frontend/dev/src/ReactComponents/TopBar.js\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport priceStore from \"./Store/Price\";\nimport settingsStore, { settingsActions } from \"./Store/Settings\";\n\nconst TopBar = () => {\n  const _useState = useState(priceStore.getState()[\"BTCUSDT\"]),\n        _useState2 = _slicedToArray(_useState, 2),\n        btcPrice = _useState2[0],\n        setBtcPrice = _useState2[1];\n\n  const _useState3 = useState(true),\n        _useState4 = _slicedToArray(_useState3, 2),\n        isBuy = _useState4[0],\n        setIsBuy = _useState4[1];\n\n  useEffect(() => {\n    priceStore.subscribe(() => {\n      setBtcPrice(prevBtcPrice => {\n        const newBtcPrice = priceStore.getState()[\"BTCUSDT\"];\n        setIsBuy(newBtcPrice >= prevBtcPrice);\n        return newBtcPrice;\n      });\n    });\n  }, []);\n  const priceColour = isBuy ? \"#26A83A\" : \"red\";\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, React.createElement(SearchForCoin, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    id: \"top_bar_text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, \"Want access to more data? Sign up for free!\"), React.createElement(\"p\", {\n    id: \"btcPriceFeed\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, \"BTCUSDT: \", React.createElement(\"b\", {\n    style: {\n      color: priceColour\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, \"$\", btcPrice)));\n};\n\nconst coins = [{\n  name: \"Ethereum\",\n  symbol: \"ETH\"\n}, {\n  name: \"ChainLink\",\n  symbol: \"LINK\"\n}];\n\nconst SearchForCoin = () => {\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        searchValue = _useState6[0],\n        setSearchValue = _useState6[1];\n\n  const handleSearchChange = event => {\n    setSearchValue(event.target.value);\n  };\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        predictions = _useState8[0],\n        setPredictions = _useState8[1];\n\n  useEffect(() => {\n    setPredictions([]);\n    const lowerCaseSearchValue = searchValue.toLowerCase();\n\n    for (const coin of coins) {\n      if ((coin.name.toLowerCase().includes(lowerCaseSearchValue) || coin.symbol.toLowerCase().includes(lowerCaseSearchValue)) && predictions.length < 5 && searchValue !== \"\") {\n        setPredictions(predictions => {\n          predictions.push(coin);\n          return predictions;\n        });\n      }\n    }\n  }, [searchValue]);\n  const predictionElements = predictions.map(prediction => React.createElement(Prediction, {\n    name: prediction.name,\n    symbol: prediction.symbol,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }));\n\n  const _useState9 = useState(\"0px\"),\n        _useState10 = _slicedToArray(_useState9, 2),\n        predictionStyleWidth = _useState10[0],\n        setPredictionStyleWidth = _useState10[1];\n\n  useEffect(() => {\n    // on mount initialise the width of prediction div to be the same as the input search\n    const width = document.getElementById(\"search_for_coin_input\").getBoundingClientRect().width + \"px\";\n    setPredictionStyleWidth(width);\n  }, []);\n  const predictionStyle = {\n    width: predictionStyleWidth,\n    position: \"fixed\",\n    border: \"1px solid #D8D8D8\",\n    borderRadius: \"10px\",\n    textAlign: \"left\",\n    zIndex: 20,\n    overflow: \"hidden\",\n    backgroundColor: \"white\"\n  };\n\n  const _useState11 = useState(false),\n        _useState12 = _slicedToArray(_useState11, 2),\n        showPredictions = _useState12[0],\n        setShowPredictions = _useState12[1];\n\n  const handlePredictionSelect = () => {\n    setShowPredictions(false);\n    setSearchValue(\"\");\n  };\n\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: \"search_for_coin_input\",\n    placeholder: \"Search for coin\",\n    value: searchValue,\n    onChange: handleSearchChange,\n    onClick: () => setShowPredictions(true),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }), predictions.length > 0 && showPredictions && React.createElement(\"div\", {\n    style: predictionStyle,\n    onClick: handlePredictionSelect,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, predictionElements)));\n};\n\nconst Prediction = props => {\n  const _useState13 = useState(true),\n        _useState14 = _slicedToArray(_useState13, 2),\n        isHover = _useState14[0],\n        setIsHover = _useState14[1];\n\n  const toggleHoverExit = () => {\n    setIsHover(false);\n  };\n\n  const toggleHoverEnter = () => {\n    setIsHover(true);\n  };\n\n  const handleSelect = () => {\n    settingsStore.dispatch({\n      type: settingsActions.UPDATE_COIN,\n      coin: props.symbol\n    });\n  };\n\n  const mouseOutClassName = isHover ? \"\" : \"prediction_mouse_out\";\n  return React.createElement(\"div\", {\n    className: \"search_prediction \" + mouseOutClassName,\n    onMouseEnter: toggleHoverEnter,\n    onMouseLeave: toggleHoverExit,\n    onClick: handleSelect,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, props.name, \" (\", props.symbol, \")\");\n};\n\nexport default TopBar;","map":{"version":3,"sources":["/home/levi/Desktop/WebProjects/CryptoFeeder/frontend/dev/src/ReactComponents/TopBar.js"],"names":["React","useContext","useEffect","useState","priceStore","settingsStore","settingsActions","TopBar","getState","btcPrice","setBtcPrice","isBuy","setIsBuy","subscribe","prevBtcPrice","newBtcPrice","priceColour","color","coins","name","symbol","SearchForCoin","searchValue","setSearchValue","handleSearchChange","event","target","value","predictions","setPredictions","lowerCaseSearchValue","toLowerCase","coin","includes","length","push","predictionElements","map","prediction","predictionStyleWidth","setPredictionStyleWidth","width","document","getElementById","getBoundingClientRect","predictionStyle","position","border","borderRadius","textAlign","zIndex","overflow","backgroundColor","showPredictions","setShowPredictions","handlePredictionSelect","Prediction","props","isHover","setIsHover","toggleHoverExit","toggleHoverEnter","handleSelect","dispatch","type","UPDATE_COIN","mouseOutClassName"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState} from \"react\";\nimport priceStore from \"./Store/Price\";\nimport settingsStore, {settingsActions} from \"./Store/Settings\";\n\n\nconst TopBar = () => {\n    const [btcPrice, setBtcPrice] = useState(priceStore.getState()[\"BTCUSDT\"]);\n    const [isBuy, setIsBuy] = useState(true);\n\n    useEffect(() => {\n        priceStore.subscribe(() => {\n            setBtcPrice(prevBtcPrice => {\n                const newBtcPrice = priceStore.getState()[\"BTCUSDT\"];\n                setIsBuy(newBtcPrice >= prevBtcPrice);\n                return newBtcPrice;\n            });\n        });\n    }, []);\n\n    const priceColour = isBuy ? \"#26A83A\" : \"red\";\n    return (\n        <React.Fragment>\n            <SearchForCoin/>\n            <p id=\"top_bar_text\">Want access to more data? Sign up for free!</p>\n            <p id={\"btcPriceFeed\"}>BTCUSDT: <b style={{color: priceColour}}>${btcPrice}</b></p>\n        </React.Fragment>\n    );\n};\n\nconst coins = [\n    {\n        name: \"Ethereum\",\n        symbol: \"ETH\",\n    },\n    {\n        name: \"ChainLink\",\n        symbol: \"LINK\"\n    }\n];\n\nconst SearchForCoin = () => {\n    const [searchValue, setSearchValue] = useState(\"\");\n    const handleSearchChange = event => {\n        setSearchValue(event.target.value);\n    };\n\n    const [predictions, setPredictions] = useState([]);\n    useEffect(() => {\n        setPredictions([]);\n        const lowerCaseSearchValue = searchValue.toLowerCase();\n        for (const coin of coins) {\n            if ((coin.name.toLowerCase().includes(lowerCaseSearchValue) || coin.symbol.toLowerCase().includes(lowerCaseSearchValue))\n                    && predictions.length < 5 && searchValue !== \"\") {\n                setPredictions(predictions => {\n                    predictions.push(coin);\n                    return predictions;\n                });\n            }\n        }\n    }, [searchValue]);\n\n    const predictionElements = predictions.map(prediction =>\n        <Prediction name={prediction.name} symbol={prediction.symbol}/>\n    );\n\n    const [predictionStyleWidth, setPredictionStyleWidth] = useState(\"0px\");\n    useEffect(() => { // on mount initialise the width of prediction div to be the same as the input search\n        const width = document.getElementById(\"search_for_coin_input\").getBoundingClientRect().width + \"px\";\n        setPredictionStyleWidth(width);\n    }, []);\n\n    const predictionStyle = {\n        width: predictionStyleWidth,\n        position: \"fixed\",\n        border: \"1px solid #D8D8D8\",\n        borderRadius: \"10px\",\n        textAlign: \"left\",\n        zIndex: 20,\n        overflow: \"hidden\",\n        backgroundColor: \"white\"\n    };\n\n    const [showPredictions, setShowPredictions] = useState(false);\n    const handlePredictionSelect = () => {\n      setShowPredictions(false);\n      setSearchValue(\"\");\n    };\n\n    return (\n        <React.Fragment>\n            <div>\n                <input id=\"search_for_coin_input\" placeholder=\"Search for coin\"\n                       value={searchValue} onChange={handleSearchChange} onClick={() => setShowPredictions(true)}/>\n                {\n                    predictions.length > 0 && showPredictions &&\n                        <div style={predictionStyle} onClick={handlePredictionSelect}>\n                            {predictionElements}\n                        </div>\n                }\n            </div>\n        </React.Fragment>\n    );\n};\n\nconst Prediction = props => {\n    const [isHover, setIsHover] = useState(true);\n\n    const toggleHoverExit = () => {\n        setIsHover(false);\n    };\n\n    const toggleHoverEnter = () => {\n        setIsHover(true);\n    };\n\n    const handleSelect = () => {\n        settingsStore.dispatch({\n            type: settingsActions.UPDATE_COIN,\n            coin: props.symbol\n        });\n    };\n\n    const mouseOutClassName = isHover ? \"\" : \"prediction_mouse_out\";\n\n    return (\n        <div className={\"search_prediction \" + mouseOutClassName}\n             onMouseEnter={toggleHoverEnter} onMouseLeave={toggleHoverExit}\n             onClick={handleSelect}>\n            {props.name} ({props.symbol})\n        </div>\n    )\n};\n\nexport default TopBar;"]},"metadata":{},"sourceType":"module"}